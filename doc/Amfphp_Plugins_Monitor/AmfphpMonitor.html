<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class AmfphpMonitor</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class AmfphpMonitor</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">logs monitoring information, and makes it possible to toggle logging and retrieve the data via a service.</p>
<p class="description"><p>The logging state is persisted by looking if the log file existes.  note that it is not possible with current system to stop logging but still keep the log file.  It would be possible to address this by creating a separate file just to persist the logging state.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Ariel Sommeria-klein</li>
				<li><span class="field">todo:</span> possibility to add custom times to logged data to measure duration of operations within the service call.</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_Amfphp---Plugins---AmfphpMonitor---AmfphpMonitor.php.html">/Amfphp/Plugins/AmfphpMonitor/AmfphpMonitor.php</a> (line <span class="field">27</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																																								<div class="var-title">
					<span class="var-type">boolean</span>
					<a href="#$isException" title="details" class="var-name">$isException</a>
				</div>
																<div class="var-title">
					<span class="var-type">string</span>
					<a href="#$logPath" title="details" class="var-name">$logPath</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$startTime" title="details" class="var-name">$startTime</a>
				</div>
																<div class="var-title">
					<span class="var-type">array</span>
					<a href="#$targetUris" title="details" class="var-name">$targetUris</a>
				</div>
																<div class="var-title">
					<span class="var-type">array</span>
					<a href="#$times" title="details" class="var-name">$times</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																				
												<div class="method-definition">
											<span class="method-result">AmfphpMonitor</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$config</span> = <span class="var-default">null</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#filterDeserializedRequest" title="details" class="method-name">filterDeserializedRequest</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$deserializedRequest</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#filterDeserializedResponse" title="details" class="method-name">filterDeserializedResponse</a>
											(<span class="var-type">packet</span>&nbsp;<span class="var-name">$deserializedResponse</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#filterSerializedRequest" title="details" class="method-name">filterSerializedRequest</a>
											(<span class="var-type">String</span>&nbsp;<span class="var-name">$rawData</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#filterSerializedResponse" title="details" class="method-name">filterSerializedResponse</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$rawData</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#filterServiceNames2ClassFindInfo" title="details" class="method-name">filterServiceNames2ClassFindInfo</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$serviceNames2ClassFindInfo</span>)
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$isException" id="$isException"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$isException</span>
						(line <span class="line-number">53</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">was there an exception during service call.</p>
<p class="description"><p>todo. unused.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$logPath" id="$logPath"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$logPath</span>
						(line <span class="line-number">32</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">path to log file.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$startTime" id="$startTime"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$startTime</span>
						(line <span class="line-number">34</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$targetUris" id="$targetUris"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$targetUris</span>
						(line <span class="line-number">40</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">service and method names Usually only one, but in the case of AMF sometimes there can be multiple requests in one call.</p>
	<ul class="tags">
				<li><span class="field">var:</span> of strings</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$times" id="$times"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$times</span>
						(line <span class="line-number">46</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">various times.  for example {'startD' =&gt; 12 } means start of deserialization at 12 ms after start.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">61</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">constructor.</p>
<p class="description"><p>manages log path. If file exists at log path, adds hooks for logging.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">AmfphpMonitor</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$config</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$config</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfilterDeserializedRequest" id="filterDeserializedRequest"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">filterDeserializedRequest</span> (line <span class="line-number">104</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">logs the deserialized request, as well as grabs the target uris(service + method)  as each request has its own format, the code here must handle all deserialized request structures.</p>
<p class="description"><p>if case not handled just don't set target uris, as data can still be useful even without them.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			filterDeserializedRequest
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$deserializedRequest</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$deserializedRequest</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfilterDeserializedResponse" id="filterDeserializedResponse"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">filterDeserializedResponse</span> (line <span class="line-number">127</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">logs the deserialized response</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			filterDeserializedResponse
		</span>
					(<span class="var-type">packet</span>&nbsp;<span class="var-name">$deserializedResponse</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">packet</span>
				<span class="var-name">$deserializedResponse</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfilterSerializedRequest" id="filterSerializedRequest"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">filterSerializedRequest</span> (line <span class="line-number">93</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">logs the serialized incoming packet</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			filterSerializedRequest
		</span>
					(<span class="var-type">String</span>&nbsp;<span class="var-name">$rawData</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">String</span>
				<span class="var-name">$rawData</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfilterSerializedResponse" id="filterSerializedResponse"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">filterSerializedResponse</span> (line <span class="line-number">136</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">logs the deserialized incoming packet</p>
<p class="description"><p>note: ignores calls to AmfphpMonitorService</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			filterSerializedResponse
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$rawData</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$rawData</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfilterServiceNames2ClassFindInfo" id="filterServiceNames2ClassFindInfo"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">filterServiceNames2ClassFindInfo</span> (line <span class="line-number">84</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">add monitor service</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			filterServiceNames2ClassFindInfo
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$serviceNames2ClassFindInfo</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$serviceNames2ClassFindInfo</span><span class="var-description">: associative array of key -&gt; class find info</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Thu, 10 Oct 2013 13:04:01 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>